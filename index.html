<!DOCTYPE HTML>
<html>

<head>
    <title>Unionized Union</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="styles.css" />

    <link rel="apple-touch-icon" sizes="57x57" href="apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-title" content="Unionized">
    <meta name="application-name" content="Unionized">
    <meta name="msapplication-TileColor" content="#002147">
    <meta name="msapplication-TileImage" content="mstile-144x144.png">
    <meta name="theme-color" content="#002147">
</head>

<!-- “your compulsory civics lesson for current events” -->

<body>
<div class="flagcontainer">
<div class="ground">
<div class="canton">
<ul class="stars">
<li id="state1" class="state delaware" data-name="Delaware" data-abbreviation="DE" data-entry="1787-12-09" data-enacted="2013-05-07" data-effective="2013-07-01"><a href="#">★</a></li>
<li id="state2" class="state pennsylvania" data-name="Pennsylvania" data-abbreviation="PA" data-entry="1787-12-12" data-enacted="2014-05-20" data-effective="2014-05-20"><a href="#">★</a></li>
<li id="state3" class="state new-jersey" data-name="New Jersey" data-abbreviation="NJ" data-entry="1787-12-18" data-enacted="2013-09-27" data-effective="2013-10-21"><a href="#">★</a></li>
<li id="state4" class="state georgia" data-name="Georgia" data-abbreviation="GA" data-entry="1788-01-02" data-enacted="2015-06-26" data-effective="2015-06-26"><a href="#">★</a></li> <!-- ? -->
<li id="state5" class="state connecticut" data-name="Connecticut" data-abbreviation="CT" data-entry="1788-01-09" data-enacted="2008-10-10" data-effective="2008-11-12"><a href="#">★</a></li>
<li id="state6" class="state massachussets" data-name="Massachussets" data-abbreviation="MA" data-entry="1788-02-06" data-enacted="2003-11-18" data-effective="2004-05-17"><a href="#">★</a></li>
<li class="fixed-spacer first"><span class="spacer">&nbsp;</span></li>
<li id="state7" class="state maryland" data-name="Maryland" data-abbreviation="MD" data-entry="1788-04-28" data-enacted="2012-11-06" data-effective="2013-01-01"><a href="#">★</a></li>
<li id="state8" class="state south-carolina" data-name="South Carolina" data-abbreviation="SC" data-entry="1788-05-23" data-enacted="2014-11-12" data-effective="2014-11-20"><a href="#">★</a></li>
<li id="state9" class="state new-hampshire" data-name="New Hampshire" data-abbreviation="NH" data-entry="1788-06-21" data-enacted="2009-06-03" data-effective="2010-01-01"><a href="#">★</a></li>
<li id="state10" class="state virginia" data-name="Virginia" data-abbreviation="VA" data-entry="1788-06-25" data-enacted="2014-07-28" data-effective="2014-10-06"><a href="#">★</a></li>
<li id="state11" class="state new-york" data-name="New York" data-abbreviation="NY" data-entry="1788-07-26" data-enacted="2011-06-24" data-effective="2011-07-24"><a href="#">★</a></li>
<li id="state12" class="state north-carolina" data-name="North Carolina" data-abbreviation="NC" data-entry="1789-11-21" data-enacted="2014-10-10" data-effective="2014-10-10"><a href="#">★</a></li>
<li id="state13" class="state rhode-island" data-name="Rhode Island" data-abbreviation="RI" data-entry="1790-05-29" data-enacted="2013-05-02" data-effective="2013-08-01"><a href="#">★</a></li>
<li id="state14" class="state vermont" data-name="Vermont" data-abbreviation="VT" data-entry="1791-03-04" data-enacted="2009-04-07" data-effective="2009-09-01"><a href="#">★</a></li>
<li id="state15" class="state kentucky" data-name="Kentucky" data-abbreviation="KY" data-entry="1792-06-01" data-enacted="2015-06-26" data-effective="2015-06-26"><a href="#">★</a></li> <!-- ? -->
<li id="state16" class="state tennessee" data-name="Tennessee" data-abbreviation="TN" data-entry="1796-06-01" data-enacted="2015-06-26" data-effective="2015-06-26"><a href="#">★</a></li> <!-- ? -->
<li id="state17" class="state ohio" data-name="Ohio" data-abbreviation="OH" data-entry="1803-03-01" data-enacted="2015-06-26" data-effective="2015-06-26"><a href="#">★</a></li> <!-- ? -->
<li class="fixed-spacer second"><span class="spacer">&nbsp;</span></li>
<li id="state18" class="state louisiana" data-name="Louisiana" data-abbreviation="LA" data-entry="1812-04-30" data-enacted="2015-06-26" data-effective="2015-06-26"><a href="#">★</a></li> <!-- ? -->
<li id="state19" class="state indiana" data-name="Indiana" data-abbreviation="IN" data-entry="1816-12-11" data-enacted="2014-09-04" data-effective="2014-10-06"><a href="#">★</a></li>
<li id="state20" class="state mississippi" data-name="Mississippi" data-abbreviation="MS" data-entry="1817-12-10" data-enacted="2015-06-26" data-effective="2015-06-26"><a href="#">★</a></li> <!-- ? -->
<li id="state21" class="state illinois" data-name="Illinois" data-abbreviation="IL" data-entry="1818-12-03" data-enacted="2013-11-20" data-effective="2014-06-01"><a href="#">★</a></li>
<li id="state22" class="state alabama" data-name="Alabama" data-abbreviation="AL" data-entry="1819-12-14" data-enacted="2015-06-26" data-effective="2015-06-26"><a href="#">★</a></li> <!-- ? -->
<li id="state23" class="state maine" data-name="Maine" data-abbreviation="ME" data-entry="1820-03-15" data-enacted="2012-11-06" data-effective="2012-12-29"><a href="#">★</a></li>
<li id="state24" class="state missouri" data-name="Missouri" data-abbreviation="MO" data-entry="1821-08-10" data-enacted="2015-06-26" data-effective="2015-06-26"><a href="#">★</a></li> <!-- ? -->
<li id="state25" class="state arkansas" data-name="Arkansas" data-abbreviation="AK" data-entry="1836-06-15" data-enacted="2015-06-26" data-effective="2015-06-26"><a href="#">★</a></li> <!-- ? -->
<li id="state26" class="state michigan" data-name="Michigan" data-abbreviation="MI" data-entry="1837-01-26" data-enacted="2015-06-26" data-effective="2015-06-26"><a href="#">★</a></li> <!-- ? -->
<li id="state27" class="state florida" data-name="Florida" data-abbreviation="FL" data-entry="1845-03-03" data-enacted="2014-08-21" data-effective="2015-01-06"><a href="#">★</a></li>
<li id="state28" class="state texas" data-name="Texas" data-abbreviation="TX" data-entry="1845-12-29" data-enacted="2015-06-26" data-effective="2015-06-26"><a href="#">★</a></li> <!-- ? -->
<li class="fixed-spacer third"><span class="spacer">&nbsp;</span></li>
<li id="state29" class="state iowa" data-name="Iowa" data-abbreviation="IA" data-entry="1846-12-28" data-enacted="2009-04-03" data-effective="2009-04-27"><a href="#">★</a></li>
<li id="state30" class="state wisconsin" data-name="Wisconsin" data-abbreviation="WI" data-entry="1848-05-29" data-enacted="2014-09-04" data-effective="2014-10-06"><a href="#">★</a></li>
<li id="state31" class="state california" data-name="California" data-abbreviation="CA" data-entry="1850-09-09" data-enacted="2010-08-04" data-effective="2013-06-28"><a href="#">★</a></li>
<li id="state32" class="state minnesota" data-name="Minnesota" data-abbreviation="MN" data-entry="1858-05-11" data-enacted="2013-05-14" data-effective="2013-08-01"><a href="#">★</a></li>
<li id="state33" class="state oregon" data-name="Oregon" data-abbreviation="OR" data-entry="1859-02-14" data-enacted="2014-05-19" data-effective="2014-05-19"><a href="#">★</a></li>
<li id="state34" class="state kansas" data-name="Kansas" data-abbreviation="KS" data-entry="1861-01-29" data-enacted="2015-06-26" data-effective="2015-06-26"><a href="#">★</a></li> <!-- ? -->
<li id="state35" class="state west-virginia" data-name="West Virginia" data-abbreviation="WV" data-entry="1863-06-20" data-enacted="2014-10-09" data-effective="2014-10-09"><a href="#">★</a></li>
<li id="state36" class="state nevada" data-name="Nevada" data-abbreviation="NV" data-entry="1864-10-31" data-enacted="2014-10-07" data-effective="2014-10-09"><a href="#">★</a></li>
<li id="state37" class="state nebraska" data-name="Nebraska" data-abbreviation="NE" data-entry="1867-03-01" data-enacted="2015-06-26" data-effective="2015-06-26"><a href="#">★</a></li> <!-- ? -->
<li id="state38" class="state colorado" data-name="Colorado" data-abbreviation="CO" data-entry="1876-08-01" data-enacted="2014-07-23" data-effective="2014-10-07"><a href="#">★</a></li> <!-- or is enacted 2014-07-23? -->
<li id="state39" class="state north-dakota" data-name="North Dakota" data-abbreviation="ND" data-entry="1889-11-02" data-enacted="2015-06-26" data-effective="2015-06-26"><a href="#">★</a></li> <!-- ? -->
<li class="fixed-spacer fourth"><span class="spacer">&nbsp;</span></li>
<li id="state40" class="state south-dakota" data-name="South Dakota" data-abbreviation="SD" data-entry="1889-11-02" data-enacted="2015-06-26" data-effective="2015-06-26"><a href="#">★</a></li> <!-- ? -->
<li id="state41" class="state montana" data-name="Montana" data-abbreviation="MT" data-entry="1889-11-08" data-enacted="2014-11-19" data-effective="2014-11-19"><a href="#">★</a></li>
<li id="state42" class="state washington" data-name="Washinton" data-abbreviation="WA" data-entry="1889-11-11" data-enacted="2012-11-06" data-effective="2012-12-06"><a href="#">★</a></li>
<li id="state43" class="state idaho" data-name="Idaho" data-abbreviation="ID" data-entry="1890-07-03" data-enacted="2014-10-07" data-effective="2014-10-15"><a href="#">★</a></li>
<li id="state44" class="state wyoming" data-name="Wyoming" data-abbreviation="WY" data-entry="1890-07-10" data-enacted="2014-10-17" data-effective="2014-10-21"><a href="#">★</a></li>
<li id="state45" class="state utah" data-name="Utah" data-abbreviation="UT" data-entry="1896-01-04" data-enacted="2014-06-25" data-effective="2014-10-06"><a href="#">★</a></li>
<li id="state46" class="state oklahoma" data-name="Oklahoma" data-abbreviation="OK" data-entry="1907-11-16" data-enacted="2014-07-18" data-effective="2014-10-06"><a href="#">★</a></li>
<li id="state47" class="state new-mexico" data-name="New Mexico" data-abbreviation="NM" data-entry="1912-01-06" data-enacted="2013-12-19" data-effective="2013-12-19"><a href="#">★</a></li>
<li id="state48" class="state arizona" data-name="Arizona" data-abbreviation="AZ" data-entry="1912-02-14" data-enacted="2014-10-17" data-effective="2014-10-17"><a href="#">★</a></li>
<li id="state49" class="state alaska" data-name="Alaska" data-abbreviation="AK" data-entry="1959-01-03" data-enacted="2014-10-12" data-effective="2014-10-17"><a href="#">★</a></li>
<li id="state50" class="state hawaii" data-name="Hawaii" data-abbreviation="HI" data-entry="1959-08-21" data-enacted="2013-11-13" data-effective="2013-12-02"><a href="#">★</a></li>
</ul>
</div>
</div>
</div>
<div class="controlcontainer">
    <div class="sortcontainer">
        <span>Sort by:</span>
        <button class="sortby" data-sort-by="stateName">State Name</button>
        <button class="sortby" data-sort-by="entry">Entry Date</button>
        <button class="sortby" data-sort-by="enacted">Enacted Date</button>
        <button class="sortby" data-sort-by="effective">Effective Date</button>
    </div>
    <div class="timecontainer">
<!--
        <label for=fader>Date: </label><output for=fader id=datefilter>1787</output>
        <input type=range min=1787 max=2015 value=1 id=fader step=1 oninput="outputUpdate(value)">
-->
        <form>
            <span>Marriage equality legal since:</span>
            <!-- 86400000 = 1day -->
            <input type="date" max="2015-06-26" min="2003-11-17" value="2015-06-26" id="dateControlledByRange" />
            <input type="range" step="86400000" max="1435276800000" min="1069027200000" value="1435276800000" id="rangeControlledByDate" />
        </form>
    </div>
    <script>
        function outputUpdate(year) {
            document.querySelector('#datefilter').value = year;
        }
    </script>
</div>

<script src="konami.js"></script>
<script src="jquery.min.js"></script>
<script src="isotope.pkgd.min.js"></script>
<script src="packery-mode.pkgd.min.js"></script>
<script src="hide-reveal.js"></script>
<script>
$(document).ready(function() {

    // konami code easter egg
    var easter_egg = new Konami(function() {
        var ground = document.querySelector('.ground');
        ground.classList.toggle('gay');
    });

    $('ul.stars li.state a').click(function(evt) {
        $(this).parent().toggleClass('clicked');
//        console.log( $(this).parent().data('entry') ); 
//        console.log( Date.parse($(this).parent().data('entry')) ); 
/*
        alert( Date.parse($(this).data('data-entry')) );
*/
        evt.preventDefault();
    })

    $('ul.stars').isotope({
        getSortData: {
            stateName: '[data-name]',
            entry: '[data-entry]',
            enacted: '[data-enacted]',
            effective: '[data-effective]'
        },
        layoutMode: 'packery',
        itemSelector: 'li.state',
        stamp: '.fixed-spacer',
        sortBy: 'stateName',
        isResizeBound: false
    });
    $('.sortcontainer').on( 'click', 'button', function() {
        var sortByValue = $(this).attr('data-sort-by');
        $('ul.stars').isotope({
            getSortData: {
                stateName: '[data-name]',
                entry: '[data-entry]',
                enacted: '[data-enacted]',
                effective: '[data-effective]'
            },
            layoutMode: 'packery',
            itemSelector: 'li.state',
            stamp: '.fixed-spacer',
            sortBy: sortByValue,
            isResizeBound: false,
            transitionDuration: '1s'
        });
    });

    $(window).resize(function(){
        $('ul.stars').isotope({ transitionDuration: 0 });
    });

    // date filtering
    $('#dateControlledByRange').on('input', function() {
        $('#rangeControlledByDate').prop('valueAsNumber', $.prop(this, 'valueAsNumber'));
    });
    $('#rangeControlledByDate').on('input', function() {
        $('#dateControlledByRange').prop('valueAsNumber', $.prop(this, 'valueAsNumber'));

/* isotope filtering
        $('ul.stars').isotope({
            //filter elements with dates > slider value
            filter: function() {
                var effectiveDate = Date.parse($(this).attr('data-effective'));
                var sliderDate = $('#rangeControlledByDate')[0].value;
//                console.log( sliderDate+" "+effectiveDate );
                return effectiveDate <= sliderDate;
            }
        })
*/
    // hideReveal filtering
    $('ul.stars').hideReveal({
        //filter elements with dates > slider value
        filter: function() {
            var effectiveDate = Date.parse($(this).attr('data-effective'));
            var sliderDate = $('#rangeControlledByDate')[0].value;
//            console.log( sliderDate+" "+effectiveDate );
            return effectiveDate <= sliderDate;
        }
    })

    });

//    $("#myelement").on("input change", function() { doSomething(); });
});
</script></body></html>

